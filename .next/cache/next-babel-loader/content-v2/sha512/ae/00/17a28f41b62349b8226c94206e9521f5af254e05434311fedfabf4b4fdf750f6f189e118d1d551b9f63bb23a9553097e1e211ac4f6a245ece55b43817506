{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport _classCallCheck from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _assertThisInitialized from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nimport _inherits from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _possibleConstructorReturn from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/home/meddou/projects/perso/meddou.com/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nvar _jsxFileName = \"/home/meddou/projects/perso/meddou.com/src/component/scrollable-row/ScrollableRow.jsx\";\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Date.prototype.toString.call(Reflect.construct(Date, [], function () {})); return true; } catch (e) { return false; } }\n\nimport React, { Component } from 'react';\nimport Row from '../../layout/row/Row';\n\nvar ScrollableRow = /*#__PURE__*/function (_Component) {\n  _inherits(ScrollableRow, _Component);\n\n  var _super = _createSuper(ScrollableRow);\n\n  function ScrollableRow(props) {\n    var _this;\n\n    _classCallCheck(this, ScrollableRow);\n\n    _this = _super.call(this, props);\n    _this.elementRefs = [];\n    _this.index = 1;\n    _this.containerRef = /*#__PURE__*/React.createRef();\n    _this.intervalId = undefined;\n\n    for (var i = 0; i < props.children.length; i += 1) {\n      _this.elementRefs.push( /*#__PURE__*/React.createRef());\n    }\n\n    _this.setContainerRef = _this.setContainerRef.bind(_assertThisInitialized(_this));\n    return _this;\n  }\n\n  _createClass(ScrollableRow, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      var direction = 1;\n      var step = this.props.step;\n\n      if (step) {\n        this.intervalId = setInterval(function () {\n          _this2.containerRef.scrollBy({\n            left: step * direction,\n            behavior: 'smooth'\n          });\n\n          if (direction === 1 && _this2.containerRef.scrollLeft + _this2.containerRef.clientWidth >= _this2.containerRef.scrollWidth || direction === -1 && _this2.containerRef.scrollLeft === 0) {\n            direction *= -1;\n          }\n        }, 1500);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.intervalId) {\n        clearInterval(this.intervalId);\n      }\n    }\n  }, {\n    key: \"setContainerRef\",\n    value: function setContainerRef(ref) {\n      this.containerRef = ref;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      var _this$props = this.props,\n          style = _this$props.style,\n          className = _this$props.className,\n          children = _this$props.children;\n      return /*#__PURE__*/_jsxDEV(Row, {\n        style: style,\n        customRef: this.setContainerRef,\n        noWrap: true,\n        className: className,\n        children: children.map(function (child, idx) {\n          return (\n            /*#__PURE__*/\n            // eslint-disable-next-line\n            _jsxDEV(\"span\", {\n              ref: _this3.elementRefs[idx],\n              children: child\n            }, idx, false, {\n              fileName: _jsxFileName,\n              lineNumber: 57,\n              columnNumber: 11\n            }, _this3)\n          );\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 7\n      }, this);\n    }\n  }]);\n\n  return ScrollableRow;\n}(Component);\n\nexport default ScrollableRow;","map":{"version":3,"sources":["/home/meddou/projects/perso/meddou.com/src/component/scrollable-row/ScrollableRow.jsx"],"names":["React","Component","Row","ScrollableRow","props","elementRefs","index","containerRef","createRef","intervalId","undefined","i","children","length","push","setContainerRef","bind","direction","step","setInterval","scrollBy","left","behavior","scrollLeft","clientWidth","scrollWidth","clearInterval","ref","style","className","map","child","idx"],"mappings":";;;;;;;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,OAAOC,GAAP,MAAgB,sBAAhB;;IAEMC,a;;;;;AACJ,yBAAYC,KAAZ,EAAmB;AAAA;;AAAA;;AACjB,8BAAMA,KAAN;AAEA,UAAKC,WAAL,GAAmB,EAAnB;AAEA,UAAKC,KAAL,GAAa,CAAb;AAEA,UAAKC,YAAL,gBAAoBP,KAAK,CAACQ,SAAN,EAApB;AAEA,UAAKC,UAAL,GAAkBC,SAAlB;;AAEA,SAAK,IAAIC,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGP,KAAK,CAACQ,QAAN,CAAeC,MAAnC,EAA2CF,CAAC,IAAI,CAAhD,EAAmD;AACjD,YAAKN,WAAL,CAAiBS,IAAjB,eAAsBd,KAAK,CAACQ,SAAN,EAAtB;AACD;;AACD,UAAKO,eAAL,GAAuB,MAAKA,eAAL,CAAqBC,IAArB,+BAAvB;AAdiB;AAelB;;;;wCAEmB;AAAA;;AAClB,UAAIC,SAAS,GAAG,CAAhB;AADkB,UAEVC,IAFU,GAED,KAAKd,KAFJ,CAEVc,IAFU;;AAIlB,UAAIA,IAAJ,EAAU;AACR,aAAKT,UAAL,GAAkBU,WAAW,CAAC,YAAM;AAClC,UAAA,MAAI,CAACZ,YAAL,CAAkBa,QAAlB,CAA2B;AAAEC,YAAAA,IAAI,EAAEH,IAAI,GAAGD,SAAf;AAA0BK,YAAAA,QAAQ,EAAE;AAApC,WAA3B;;AACA,cAAKL,SAAS,KAAK,CAAd,IACA,MAAI,CAACV,YAAL,CAAkBgB,UAAlB,GAA+B,MAAI,CAAChB,YAAL,CAAkBiB,WAAjD,IACE,MAAI,CAACjB,YAAL,CAAkBkB,WAFrB,IAGER,SAAS,KAAK,CAAC,CAAf,IAAoB,MAAI,CAACV,YAAL,CAAkBgB,UAAlB,KAAiC,CAH3D,EAG+D;AAC7DN,YAAAA,SAAS,IAAI,CAAC,CAAd;AACD;AACF,SAR4B,EAQ1B,IAR0B,CAA7B;AASD;AACF;;;2CAEsB;AACrB,UAAI,KAAKR,UAAT,EAAqB;AACnBiB,QAAAA,aAAa,CAAC,KAAKjB,UAAN,CAAb;AACD;AACF;;;oCAEekB,G,EAAK;AACnB,WAAKpB,YAAL,GAAoBoB,GAApB;AACD;;;6BAEQ;AAAA;;AAAA,wBACgC,KAAKvB,KADrC;AAAA,UACCwB,KADD,eACCA,KADD;AAAA,UACQC,SADR,eACQA,SADR;AAAA,UACmBjB,QADnB,eACmBA,QADnB;AAGP,0BACE,QAAC,GAAD;AAAK,QAAA,KAAK,EAAEgB,KAAZ;AAAmB,QAAA,SAAS,EAAE,KAAKb,eAAnC;AAAoD,QAAA,MAAM,MAA1D;AAA2D,QAAA,SAAS,EAAEc,SAAtE;AAAA,kBACGjB,QAAQ,CAACkB,GAAT,CAAa,UAACC,KAAD,EAAQC,GAAR;AAAA;AAAA;AACZ;AACA;AAAM,cAAA,GAAG,EAAE,MAAI,CAAC3B,WAAL,CAAiB2B,GAAjB,CAAX;AAAA,wBACGD;AADH,eAAuCC,GAAvC;AAAA;AAAA;AAAA;AAAA;AAFY;AAAA,SAAb;AADH;AAAA;AAAA;AAAA;AAAA,cADF;AAUD;;;;EA1DyB/B,S;;AA6D5B,eAAeE,aAAf","sourcesContent":["import React, { Component } from 'react'\r\n\r\nimport Row from '../../layout/row/Row'\r\n\r\nclass ScrollableRow extends Component {\r\n  constructor(props) {\r\n    super(props)\r\n\r\n    this.elementRefs = []\r\n\r\n    this.index = 1\r\n\r\n    this.containerRef = React.createRef()\r\n\r\n    this.intervalId = undefined\r\n\r\n    for (let i = 0; i < props.children.length; i += 1) {\r\n      this.elementRefs.push(React.createRef())\r\n    }\r\n    this.setContainerRef = this.setContainerRef.bind(this)\r\n  }\r\n\r\n  componentDidMount() {\r\n    let direction = 1\r\n    const { step } = this.props\r\n\r\n    if (step) {\r\n      this.intervalId = setInterval(() => {\r\n        this.containerRef.scrollBy({ left: step * direction, behavior: 'smooth' })\r\n        if ((direction === 1\r\n          && this.containerRef.scrollLeft + this.containerRef.clientWidth\r\n            >= this.containerRef.scrollWidth)\r\n          || (direction === -1 && this.containerRef.scrollLeft === 0)) {\r\n          direction *= -1\r\n        }\r\n      }, 1500)\r\n    }\r\n  }\r\n\r\n  componentWillUnmount() {\r\n    if (this.intervalId) {\r\n      clearInterval(this.intervalId)\r\n    }\r\n  }\r\n\r\n  setContainerRef(ref) {\r\n    this.containerRef = ref\r\n  }\r\n\r\n  render() {\r\n    const { style, className, children } = this.props\r\n\r\n    return (\r\n      <Row style={style} customRef={this.setContainerRef} noWrap className={className}>\r\n        {children.map((child, idx) => (\r\n          // eslint-disable-next-line\r\n          <span ref={this.elementRefs[idx]} key={idx}>\r\n            {child}\r\n          </span>\r\n        ))}\r\n      </Row>\r\n    )\r\n  }\r\n}\r\n\r\nexport default ScrollableRow\r\n"]},"metadata":{},"sourceType":"module"}